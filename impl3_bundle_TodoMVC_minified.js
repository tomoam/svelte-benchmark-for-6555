var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function c(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,a=!1;function i(t,e,n,l){for(;t<e;){const c=t+(e-t>>1);n(c)<=l?t=c+1:e=c}return t}function s(t,e){if(a){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const l=e[n];void 0!==l.claim_order&&t.push(l)}e=t}const n=new Int32Array(e.length+1),l=new Int32Array(e.length);n[0]=-1;let c=0;for(let t=0;t<e.length;t++){const o=e[t].claim_order,r=(c>0&&e[n[c]].claim_order<=o?c+1:i(1,c,(t=>e[n[t]].claim_order),o))-1;l[t]=n[r]+1;const a=r+1;n[a]=t,c=Math.max(a,c)}const o=[],r=[];let a=e.length-1;for(let t=n[c]+1;0!=t;t=l[t-1]){for(o.push(e[t-1]);a>=t;a--)r.push(e[a]);a--}for(;a>=0;a--)r.push(e[a]);o.reverse(),r.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<r.length;e++){for(;n<o.length&&r[e].claim_order>=o[n].claim_order;)n++;const l=n<o.length?o[n]:null;t.insertBefore(r[e],l)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode!==t&&t.appendChild(e)}function d(t,e,n){a&&!n?s(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function m(){return h("")}function g(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return Array.from(t.childNodes)}function v(t,e,n,l,c=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const o=(()=>{for(let l=t.claim_info.last_index;l<t.length;l++){const o=t[l];if(e(o)){const e=n(o);return void 0===e?t.splice(l,1):t[l]=e,c||(t.claim_info.last_index=l),o}}for(let l=t.claim_info.last_index-1;l>=0;l--){const o=t[l];if(e(o)){const e=n(o);return void 0===e?t.splice(l,1):t[l]=e,c?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=l,o}}return l()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function $(t,e,n){return function(t,e,n,l){return v(t,(t=>t.nodeName===e),(t=>{const e=[];for(let l=0;l<t.attributes.length;l++){const c=t.attributes[l];n[c.name]||e.push(c.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>l(e)))}(t,e,n,f)}function y(t,e){return v(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>h(e)),!0)}function E(t){return y(t," ")}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t){r=t}const w=[],N=[],A=[],S=[],T=Promise.resolve();let I=!1;function L(t){A.push(t)}let O=!1;const M=new Set;function C(){if(!O){O=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];k(e),U(e.$$)}for(k(null),w.length=0;N.length;)N.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];M.has(e)||(M.add(e),e())}A.length=0}while(w.length);for(;S.length;)S.pop()();I=!1,O=!1,M.clear()}}function U(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const B=new Set;function P(t,e){t&&t.i&&(B.delete(t),t.i(e))}function j(t,e){t.d(1),e.delete(t.key)}function D(t,e){-1===t.$$.dirty[0]&&(w.push(t),I||(I=!0,T.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(o,i,s,d,f,h,p,m=[-1]){const g=r;k(o);const _=o.$$={fragment:null,ctx:null,props:h,update:t,not_equal:f,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:i.context||[]),callbacks:n(),dirty:m,skip_bound:!1,root:i.target||g.$$.root};p&&p(_.root);let v=!1;if(_.ctx=s?s(o,i.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return _.ctx&&f(_.ctx[t],_.ctx[t]=l)&&(!_.skip_bound&&_.bound[t]&&_.bound[t](l),v&&D(o,t)),e})):[],_.update(),v=!0,l(_.before_update),_.fragment=!!d&&d(_.ctx),i.target){if(i.hydrate){a=!0;const t=x(i.target);_.fragment&&_.fragment.l(t),t.forEach(u)}else _.fragment&&_.fragment.c();i.intro&&P(o.$$.fragment),function(t,n,o,r){const{fragment:a,on_mount:i,on_destroy:s,after_update:d}=t.$$;a&&a.m(n,o),r||L((()=>{const n=i.map(e).filter(c);s?s.push(...n):l(n),t.$$.on_mount=[]})),d.forEach(L)}(o,i.target,i.anchor,i.customElement),a=!1,C()}k(g)}function R(t,e,n){const l=t.slice();return l[16]=e[n],l[17]=e,l[18]=n,l}function J(t){let e,n,l,c,o,r,a,i,m,v,k,w,N,A,S,T,I,L,O,M,C,U,B,D,H,J,W,G,V,z,K,Q,X,Y,Z,tt=[],et=new Map,nt=1===t[4]?"item":"items",lt=t[5];const ct=t=>t[16].id;for(let e=0;e<lt.length;e+=1){let n=R(t,lt,e),l=ct(n);et.set(l,tt[e]=q(l,n))}let ot=t[3]&&F(t);return{c(){e=f("section"),n=f("input"),c=p(),o=f("label"),r=h("Mark all as complete"),a=p(),i=f("ul");for(let t=0;t<tt.length;t+=1)tt[t].c();m=p(),v=f("footer"),k=f("span"),w=f("strong"),N=h(t[4]),A=p(),S=h(nt),T=h(" left"),I=p(),L=f("ul"),O=f("li"),M=f("a"),C=h("All"),B=p(),D=f("li"),H=f("a"),J=h("Active"),G=p(),V=f("li"),z=f("a"),K=h("Completed"),X=p(),ot&&ot.c(),this.h()},l(l){e=$(l,"SECTION",{class:!0});var s=x(e);n=$(s,"INPUT",{id:!0,class:!0,type:!0}),c=E(s),o=$(s,"LABEL",{for:!0});var d=x(o);r=y(d,"Mark all as complete"),d.forEach(u),a=E(s),i=$(s,"UL",{class:!0});var f=x(i);for(let t=0;t<tt.length;t+=1)tt[t].l(f);f.forEach(u),m=E(s),v=$(s,"FOOTER",{class:!0});var h=x(v);k=$(h,"SPAN",{class:!0});var p=x(k);w=$(p,"STRONG",{});var g=x(w);N=y(g,t[4]),g.forEach(u),A=E(p),S=y(p,nt),T=y(p," left"),p.forEach(u),I=E(h),L=$(h,"UL",{class:!0});var _=x(L);O=$(_,"LI",{});var b=x(O);M=$(b,"A",{class:!0,href:!0});var U=x(M);C=y(U,"All"),U.forEach(u),b.forEach(u),B=E(_),D=$(_,"LI",{});var P=x(D);H=$(P,"A",{class:!0,href:!0});var j=x(H);J=y(j,"Active"),j.forEach(u),P.forEach(u),G=E(_),V=$(_,"LI",{});var R=x(V);z=$(R,"A",{class:!0,href:!0});var W=x(z);K=y(W,"Completed"),W.forEach(u),R.forEach(u),_.forEach(u),X=E(h),ot&&ot.l(h),h.forEach(u),s.forEach(u),this.h()},h(){_(n,"id","toggle-all"),_(n,"class","toggle-all"),_(n,"type","checkbox"),n.checked=l=t[3]===t[1].length,_(o,"for","toggle-all"),_(i,"class","todo-list"),_(k,"class","todo-count"),_(M,"class",U="all"===t[0]?"selected":""),_(M,"href","#/"),_(H,"class",W="active"===t[0]?"selected":""),_(H,"href","#/active"),_(z,"class",Q="completed"===t[0]?"selected":""),_(z,"href","#/completed"),_(L,"class","filters"),_(v,"class","footer"),_(e,"class","main")},m(l,u){d(l,e,u),s(e,n),s(e,c),s(e,o),s(o,r),s(e,a),s(e,i);for(let t=0;t<tt.length;t+=1)tt[t].m(i,null);s(e,m),s(e,v),s(v,k),s(k,w),s(w,N),s(k,A),s(k,S),s(k,T),s(v,I),s(v,L),s(L,O),s(O,M),s(M,C),s(L,B),s(L,D),s(D,H),s(H,J),s(L,G),s(L,V),s(V,z),s(z,K),s(v,X),ot&&ot.m(v,null),Y||(Z=g(n,"change",t[8]),Y=!0)},p(t,e){10&e&&l!==(l=t[3]===t[1].length)&&(n.checked=l),3236&e&&(lt=t[5],tt=function(t,e,n,l,c,o,r,a,i,s,d,u){let f=t.length,h=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const g=[],_=new Map,x=new Map;for(p=h;p--;){const t=u(c,o,p),a=n(t);let i=r.get(a);i?l&&i.p(t,e):(i=s(a,t),i.c()),_.set(a,g[p]=i),a in m&&x.set(a,Math.abs(p-m[a]))}const v=new Set,$=new Set;function y(t){P(t,1),t.m(a,d),r.set(t.key,t),d=t.first,h--}for(;f&&h;){const e=g[h-1],n=t[f-1],l=e.key,c=n.key;e===n?(d=e.first,f--,h--):_.has(c)?!r.has(l)||v.has(l)?y(e):$.has(c)?f--:x.get(l)>x.get(c)?($.add(l),y(e)):(v.add(c),f--):(i(n,r),f--)}for(;f--;){const e=t[f];_.has(e.key)||i(e,r)}for(;h;)y(g[h-1]);return g}(tt,e,ct,1,t,lt,et,i,j,q,null,R)),16&e&&b(N,t[4]),16&e&&nt!==(nt=1===t[4]?"item":"items")&&b(S,nt),1&e&&U!==(U="all"===t[0]?"selected":"")&&_(M,"class",U),1&e&&W!==(W="active"===t[0]?"selected":"")&&_(H,"class",W),1&e&&Q!==(Q="completed"===t[0]?"selected":"")&&_(z,"class",Q),t[3]?ot?ot.p(t,e):(ot=F(t),ot.c(),ot.m(v,null)):ot&&(ot.d(1),ot=null)},d(t){t&&u(e);for(let t=0;t<tt.length;t+=1)tt[t].d();ot&&ot.d(),Y=!1,Z()}}}function W(t){let e,n,c,o;return{c(){e=f("input"),this.h()},l(t){e=$(t,"INPUT",{id:!0,class:!0}),this.h()},h(){e.value=n=t[16].description,_(e,"id","edit"),_(e,"class","edit"),e.autofocus=!0},m(n,l){d(n,e,l),e.focus(),c||(o=[g(e,"keydown",t[10]),g(e,"blur",t[11])],c=!0)},p(t,l){32&l&&n!==(n=t[16].description)&&e.value!==n&&(e.value=n)},d(t){t&&u(e),c=!1,l(o)}}}function q(t,e){let n,c,o,r,a,i,m,v,k,w,N,A,S,T=e[16].description+"";function I(){e[12].call(o,e[17],e[18])}function L(){return e[13](e[18])}function O(){return e[14](e[18])}let M=e[2]===e[18]&&W(e);return{key:t,first:null,c(){n=f("li"),c=f("div"),o=f("input"),r=p(),a=f("label"),i=h(T),m=p(),v=f("button"),k=p(),M&&M.c(),w=p(),this.h()},l(t){n=$(t,"LI",{class:!0});var e=x(n);c=$(e,"DIV",{class:!0});var l=x(c);o=$(l,"INPUT",{class:!0,type:!0}),r=E(l),a=$(l,"LABEL",{});var s=x(a);i=y(s,T),s.forEach(u),m=E(l),v=$(l,"BUTTON",{class:!0}),x(v).forEach(u),l.forEach(u),k=E(e),M&&M.l(e),w=E(e),e.forEach(u),this.h()},h(){_(o,"class","toggle"),_(o,"type","checkbox"),_(v,"class","destroy"),_(c,"class","view"),_(n,"class",N=(e[16].completed?"completed":"")+" "+(e[2]===e[18]?"editing":"")),this.first=n},m(t,l){d(t,n,l),s(n,c),s(c,o),o.checked=e[16].completed,s(c,r),s(c,a),s(a,i),s(c,m),s(c,v),s(n,k),M&&M.m(n,null),s(n,w),A||(S=[g(o,"change",I),g(a,"dblclick",L),g(v,"click",O)],A=!0)},p(t,l){e=t,32&l&&(o.checked=e[16].completed),32&l&&T!==(T=e[16].description+"")&&b(i,T),e[2]===e[18]?M?M.p(e,l):(M=W(e),M.c(),M.m(n,w)):M&&(M.d(1),M=null),36&l&&N!==(N=(e[16].completed?"completed":"")+" "+(e[2]===e[18]?"editing":""))&&_(n,"class",N)},d(t){t&&u(n),M&&M.d(),A=!1,l(S)}}}function F(e){let n,l,c,o;return{c(){n=f("button"),l=h("Clear completed"),this.h()},l(t){n=$(t,"BUTTON",{class:!0});var e=x(n);l=y(e,"Clear completed"),e.forEach(u),this.h()},h(){_(n,"class","clear-completed")},m(t,r){d(t,n,r),s(n,l),c||(o=g(n,"click",e[6]),c=!0)},p:t,d(t){t&&u(n),c=!1,o()}}}function G(e){let n,l,c,o,r,a,i,v,b,k=e[1].length>0&&J(e);return{c(){n=f("header"),l=f("h1"),c=h("todos"),o=p(),r=f("input"),a=p(),k&&k.c(),i=m(),this.h()},l(t){n=$(t,"HEADER",{class:!0});var e=x(n);l=$(e,"H1",{});var s=x(l);c=y(s,"todos"),s.forEach(u),o=E(e),r=$(e,"INPUT",{class:!0,placeholder:!0}),e.forEach(u),a=E(t),k&&k.l(t),i=m(),this.h()},h(){_(r,"class","new-todo"),_(r,"placeholder","What needs to be done?"),r.autofocus=!0,_(n,"class","header")},m(t,u){d(t,n,u),s(n,l),s(l,c),s(n,o),s(n,r),d(t,a,u),k&&k.m(t,u),d(t,i,u),r.focus(),v||(b=g(r,"keydown",e[9]),v=!0)},p(t,[e]){t[1].length>0?k?k.p(t,e):(k=J(t),k.c(),k.m(i.parentNode,i)):k&&(k.d(1),k=null)},i:t,o:t,d(t){t&&u(n),t&&u(a),k&&k.d(t),t&&u(i),v=!1,b()}}}function V(t,e,n){let l,c,o,r="all",a=[],i=null;try{a=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(t){a=[]}const s=()=>{n(0,r="all"),"#/active"===window.location.hash?n(0,r="active"):"#/completed"===window.location.hash&&n(0,r="completed")};function d(t){n(1,a=a.slice(0,t).concat(a.slice(t+1)))}window.addEventListener("hashchange",s),s();return t.$$.update=()=>{if(3&t.$$.dirty&&n(5,l="all"===r?a:"completed"===r?a.filter((t=>t.completed)):a.filter((t=>!t.completed))),2&t.$$.dirty&&n(4,c=a.filter((t=>!t.completed)).length),2&t.$$.dirty&&n(3,o=a.filter((t=>t.completed)).length),2&t.$$.dirty)try{localStorage.setItem("todos-svelte",JSON.stringify(a))}catch(t){}},[r,a,i,o,c,l,function(){n(1,a=a.filter((t=>!t.completed)))},d,function(t){n(1,a=a.map((e=>({id:e.id,description:e.description,completed:t.target.checked}))))},function(t){13===t.which&&(n(1,a=a.concat({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),description:t.target.value,completed:!1})),t.target.value="")},function(t){13===t.which?t.target.blur():27===t.which&&n(2,i=null)},function(t){n(1,a[i].description=t.target.value,a),n(2,i=null)},function(t,e){t[e].completed=this.checked,n(5,l),n(0,r),n(1,a)},t=>n(2,i=t),t=>d(t)]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),H(this,t,V,G,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
